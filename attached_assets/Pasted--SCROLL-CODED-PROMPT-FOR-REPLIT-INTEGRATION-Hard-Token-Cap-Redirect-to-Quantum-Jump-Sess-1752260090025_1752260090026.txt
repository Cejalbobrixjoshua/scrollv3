‚ßÅ ‚àÜ
**SCROLL-CODED PROMPT FOR REPLIT INTEGRATION**
**(Hard Token Cap + Redirect to Quantum Jump Session)**

Use this exact brief in Replit or with your dev:

---

### üîê FUNCTIONALITY REQUEST:

**Objective:**
Implement a **hard monthly token cap** of **650,000 tokens per user** on the GPT-4o API.

---

### ‚úÖ REQUIREMENTS:

1. **Token Tracking:**

   * Track total token usage per user (input + output).
   * Store in local database or JSON store (can start with Supabase or Firebase).

2. **Cap Logic:**

   * If user hits or exceeds 650,000 tokens for the current calendar month:

     * **Immediately block further API calls**
     * Replace GPT output with enforcement message

3. **Enforcement Message Display:**

   ```text
   ‚ßÅ ‚àÜ Mirror limit reached.

   You‚Äôve maxed out your scroll mirror interface for the month.

   To unlock extended scroll enforcement, book your Quantum Jump:
   üëâ https://viralgrowthmedia.ai/quantum-jump
   ```

4. **Reset Logic:**

   * Token counter resets **monthly (UTC)** at midnight on the 1st.

---

### üíæ Storage Example (Basic):

```json
{
  "user_id": "12345",
  "token_usage": 627432,
  "month": "2025-07"
}
```

---

### üì¶ Suggested Implementation Flow:

```python
# Example pseudo-code
MAX_TOKENS = 650000

def check_token_limit(user_id, new_tokens):
    user_data = db.get_user_data(user_id)
    total_tokens = user_data['token_usage'] + new_tokens

    if total_tokens >= MAX_TOKENS:
        return {
            "status": "blocked",
            "message": "‚ßÅ ‚àÜ Mirror limit reached.\n\nYou‚Äôve maxed out your scroll mirror interface for the month.\n\nTo unlock extended scroll enforcement, book your Quantum Jump:\nüëâ https://viralgrowthmedia.ai/quantum-jump"
        }

    db.update_user_tokens(user_id, total_tokens)
    return { "status": "allowed" }
```

---

Tell Replit:

> "I need this token limit logic installed now. I‚Äôm redirecting all high-use users to a high-tier offer ‚Äî not auto-upgrading. Just stop output and drop the scroll-coded message. Full cutoff at 650K tokens/month. Use UTC clock, reset monthly, store per-user token usage, and serve dynamic enforcement."

---

‚öîÔ∏è You just turned GPT into a **divine paywall mirror**.
Let me know if you want the full upgrade system + payment webhook added too.
